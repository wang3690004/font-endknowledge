###js垃圾回收
记得去kj，面试官问我的第一个问题就是垃圾回收相关的问题，当时是一脸懵逼啊。。。。转眼间两年过去了  学习一波js的gc看看到底是怎么回事
垃圾回收的必要性：
  由于字符串、对象和数组没有固定大小，所有当他们的大小已知时，才能对他们进行动态的存储分配，js每次创建字符串、数组或对象时，解释器都必须分配内存来存储那个实体，只要像这样动态分配了内存最终都要释放这些内存以便他们可以被再用，否则js的解释器会消耗完系统中可用的内存 造成系统崩溃，找出不再使用的变量，然后释放掉其占用的内存，但是这个过程不是实时的，因为开销比较大，所以会按照固定的时间间隔周期性的执行



想学垃圾回收需要先了解一点栈 堆 队列相关知识
栈：先进后出
队列：先进先出
栈内存主要放置基本数据类型的变量名和值，当我们将变量a复制给b的时候，栈会新开内存用于存放b，并且a b互不影响
堆数据结构:一种无序的树状结构，满足key-value键值对的存储方式，只用知道key就可以找到value。 在js中堆内存一般用于存储引用类型的数据，引用类型的数据一般可以拓展，数据大小可变，所放入堆内存中，但引用类型数据的引用地址是固定的，所以地址指向还是会存放在栈内存中

方式：引用计数这个策略不太说明，主流浏览器已经不使用它，侧重说标记清除
标记清除： js最常用的垃圾回收机制，当变量进入执行环境时就标记这个变量为'进入环境'，从逻辑上讲，永远不能释放进入环境的变量所占用的内存，因为只要执行流进入相应的环境，就有可能遇到他们，当变量离开环境时，则将其标记为'离开环境'
垃圾收集器在运行的时候回给存储在内存中的所有变量都加上标记，然后他会去掉环境中的变量，以及被环境中的变量引用的标记，而在此之后再加上标记的变量将其 视为准备删除的变量，原因是环境中的变量已经无法访问这些变量了，最后垃圾回收器完成内存的清除工作，销毁那些带标记的值，并回他们所占用的空间。

避免内存泄漏（应用程序不再需要占用的时候，由于某些原因，内存没有被操作系统或可用内存回收）
1.慎用全局变量， 无法判断是否要被回收
2.遗忘的计时器或者回调函数。
3.闭包
4.没有清理的dom元素引用


感谢大佬分享的链接：
https://www.cnblogs.com/echolun/p/11503915.html
https://www.cnblogs.com/fanlu/p/11176319.html
https://juejin.im/post/5db5846d51882564696fd606#heading-3